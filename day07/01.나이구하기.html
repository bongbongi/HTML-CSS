<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>나이구하기</title>
    <!-- input을 이용하여 이름, 주민등록번호를 입력받아
        이름, 생년월일, 성별을 출력 -->
</head>
<body>
    <form action="" id="">
        <fieldset>
            이름 : <input type="text" id="userName"><br>
            주민번호 : <input type="text" id="rNum"><br>
            <button type="button" id="btn" onclick="show_result()">클릭</button>
        </fieldset>
    </form>
    <!-- 출력위치 -->
    <h3 id="result"></h3>


<script>
    let date = new Date();
    console.log(date);
    console.log(date.getFullYear());
    console.log(date.getMonth() + 1);
    console.log(date.getDate());
    let date1 = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
    console.log(date1);

    console.log('-------------------');
    let birth2 = '991228';
    
    // let age = if(left(birth2,1)=0){
    //     age=2000;
    // }else{
    //    1000; 
    // };
    console.log(birth2);
    
    function show_result() {
        let userName = document.getElementById('userName').value; //이름 , 어떤 형식이든 String으로 들어옴
        let rNum = document.getElementById('rNum').value; //주민번호, 어떤 형식이든 String으로 들어옴

        //오늘 날짜, 시간
        /* get 값을 얻어올 때, set은 값을 변경할 때
        
            getFullYear() : 현재 년도만 추출
            getMonth() : 월 0~11이 기본값 +1를 해줘야함
            getDate() : 일
            getDay() : 요일일 0~6 일~토
            getHours()
            getMinutes()
            getSeconds()
            getMilliseconds()
            getTime()
        */
        

        let now1 = new Date();
        let now2 = new Date('2021-01-01');
        let now3 = new Date(2001, 10, 10, 12, 00);
        console.log(now1);


        let birth = rNum.substring(0, rNum.indexOf('-'));  //생년월일 뽑기
        console.log(birth);
        let getNum = rNum.charAt(rNum.indexOf('-') + 1); //성별
        console.log(getNum);
        let mw = '';
        if (getNum == '1' || getNum == '3') {
            mw = '남';
        } else {
            mw = '여';
        };
        console.log(mw);

        //나이구하기
        let age = (left(birth, 1) = '0' ? '2000' : '1900') + left(birth, 2);


        date2 = date.getFullYear() - age;
        console.log(date2);
        document.getElementById('result').innerText =
            `이름 : ${userName}, 생년월일 : ${birth}, 나이 : ${date2}, 성별 : ${mw}`;
    }

    
</script>
</body>
</html>